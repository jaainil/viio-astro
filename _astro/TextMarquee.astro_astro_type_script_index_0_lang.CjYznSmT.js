import{a as o}from"./observers.Dpnmwwyi.js";import{a as d}from"./globalTicker.tZPeNIfN.js";import"./index.C8pce-KX.js";class l extends HTMLElement{x=0;textWidth=-1;direction=1;html;outerEl;constructor(){super(),this.direction=Number(this.dataset.dir)||1,this.outerEl=this.querySelector(".outer"),this.html=this.outerEl.innerHTML,this.x=Math.round(1e3*-this.direction*Math.random()),o(this),d(this)}connectedCallback(){document.fonts.ready.then(()=>{this.fill(),this.classList.add("is-ready")})}onWidthResize(){this.fill()}fill(){const{html:i,outerEl:t}=this;t.innerHTML=i;const e=t.firstElementChild.getBoundingClientRect(),s=window.innerWidth;if(!e.width)return;const r=Math.ceil(s/e.width)*2;t.innerHTML+=i.repeat(r-1),[...t.children].forEach((n,h)=>{h>0&&(n.ariaHidden="true")}),this.textWidth=Math.round(t.scrollWidth/2)}tick(){const i=this.textWidth;let t=this.x;const e=this.direction;t-=(Math.min(Math.abs(window.scrollVelocity)*.4,10)+.5)*(window.scrollDirection||1)*e,t<=-i?t=0:t>0&&(t=-i),this.style.setProperty("--x",`${t}px`),this.x=t}}customElements.define("sy-text-marquee",l);
