---
import "@fontsource-variable/inter";
import "@fontsource-variable/roboto-slab";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import SmoothScroll from "../components/SmoothScroll.astro";
import { useTranslations } from "../i18n/utils";
import { SEO } from "astro-seo";
import "../styles/global.css";

const { title, description } = Astro.props;
const t = useTranslations();

const defaultDescription = "Shree Cretex - Professional social media marketing agency offering content creation, photo & video editing, event photography, and digital marketing services.";
const siteUrl = "https://shreecreatixagency.com";

const links = [
  { title: "Home", url: "/" },
  { title: "Services", url: "/services" },
  { title: "About", url: "/about" },
  { title: "Contact", url: "/contact" },
];

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Shree Cretex",
  "alternateName": "Shree Cretex - Social Media Marketing Agency",
  "description": "Professional social media marketing agency offering content creation, photo & video editing, event photography, and digital marketing services.",
  "url": siteUrl,
  "logo": `${siteUrl}/og-image.png`,
  "image": `${siteUrl}/og-image.png`,
  "telephone": "+91-851-110-1504",
  "email": "vinittank78@gmail.com",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Gujarat",
    "addressLocality": "Gujarat",
    "addressRegion": "Gujarat",
    "addressCountry": "IN"
  },
  "priceRange": "₹₹",
  "openingHours": "Mo-Fr 09:00-18:00",
  "sameAs": [
    "https://www.instagram.com/vinit_tank_3110_",
    "https://wa.me/+918511101504"
  ],
  "areaServed": "India",
  "serviceType": [
    "Social Media Marketing",
    "Content Creation",
    "Photo Editing",
    "Video Editing",
    "Event Photography",
    "Videography"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "+91-851-110-1504",
    "contactType": "customer service",
    "availableLanguage": ["English", "Hindi"]
  }
};
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link rel="canonical" href={Astro.url.href} />
    
    <SEO
      title={title || "Shree Cretex - Social Media Marketing Agency"}
      description={description || defaultDescription}
      canonical={Astro.url.href}
      openGraph={{
        basic: {
          title: title || "Shree Cretex - Social Media Marketing Agency",
          type: "website",
          image: `${siteUrl}/og-image.png`,
          url: siteUrl,
        },
        optional: {
          description: description || defaultDescription,
          siteName: "Shree Cretex",
        },
        image: {
          url: `${siteUrl}/og-image.png`,
          width: 1200,
          height: 630,
          alt: "Shree Cretex - Social Media Marketing Agency",
        },
      }}
      twitter={{
        creator: "@shreecretex",
        card: "summary_large_image",
        title: title || "Shree Cretex - Social Media Marketing Agency",
        description: description || defaultDescription,
        image: `${siteUrl}/og-image.png`,
      }}
      extend={{
        meta: [
          { name: "robots", content: "index, follow" },
          { name: "author", content: "Shree Cretex" },
          { name: "keywords", content: "social media marketing, content creation, photo editing, video editing, event photography, videography, digital marketing, Instagram marketing, Facebook marketing, professional photography" },
          { name: "theme-color", content: "#0f172a" },
          { name: "geo.region", content: "IN-GJ" },
          { name: "geo.placename", content: "Gujarat" },
          { name: "format-detection", content: "telephone=yes" },
        ],
      }}
    />
    
    <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
    
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Shree Cretex",
      "url": siteUrl,
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": `${siteUrl}/search?q={search_term_string}`
        },
        "query-input": "required name=search_term_string"
      }
    })} />
  </head>
  <body>
    <a href="#main" class="skip-link">{t("accessibility.skip-to-content")}</a>
    <Header
      logoUrl="/"
      logoAlt="Shree Cretex"
      links={links}
      link2={{ title: "Get Quote", url: "/contact" }}
    />
    <main id="main">
      <slot />
    </main>
    <Footer logoUrl="/" logoAlt="Shree Cretex" links={links} />
    <SmoothScroll />
  </body>
</html>

<style>
  .skip-link {
    background: var(--color-brand-1);
    left: 0;
    right: 0;
    margin: auto;
    width: min-content;
    white-space: nowrap;
    padding: 0.5rem;
    position: absolute;
    transform: translateY(-100%);
    transition: transform 0.3s ease;
    z-index: 100;
  }

  .skip-link:focus {
    transform: translateY(0%);
  }
</style>

<script>
  import "../utils/reveals";
</script>
